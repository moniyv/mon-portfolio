<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Yasmine Redouani</title>
    <style>
        @font-face {
            font-family: 'Alte Haas Grotesk';
            src: url('fonts/AlteHaasGrotesk.woff2') format('woff2'),
                 url('fonts/AlteHaasGrotesk.woff') format('woff');
            font-weight: 100 900;
            font-style: normal;
            font-display: swap;
        }

        /* Apply the font globally */
        html, bo-cedy, input, button, textarea, select {
            font-family: 'Alte Haas Grotesk', 'Helvetica Neue', Arial, sans-serif;
        }

        h1 {
            font-family: 'Alte Haas Grotesk', 'Helvetica Neue', Arial, sans-serif;
            text-align: right;
            font-weight: 800;
            font-size: 16px;
            margin: 12px 0 0 0;
            cursor: default;
        }
        /* layout: left panel + right panel */
        .container {
            display: flex;
            align-items: flex-start;
            gap: 16px;
        }
        .left-panel {
            flex: 0 0 50%;
            background: transparent;
            border: none;
            padding: 0 12px 0 20px; /* même recul que le nom côté droit */
            color: #222;
            min-height: 120px;
        }
        .city-label {
            font-family: 'Alte Haas Grotesk', 'Helvetica Neue', Arial, sans-serif;
            font-weight: 800;
            font-size: 16px; /* même taille que le h1 */
            line-height: 1.4;
            text-align: left;
            margin-top: 12px;
            cursor: default;
        }
        .right-panel {
            flex: 1 1 50%;
            padding-right: 20px;
            text-align: right; /* ensure content inside is right-aligned */
        }

        .middle-panel {
            flex: 0 0 15%;
            padding: 8px 12px;
            color: #222;
            min-height: 120px;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            text-align: left;
            transform: translateX(-20px);
            opacity: 0;
            transition: transform 0.4s ease-out, opacity 0.4s ease-out;
        }
        .middle-panel.visible {
            transform: translateX(0);
            opacity: 1;
        }
        .middle-panel p {
            font-size: 12px;
            line-height: 1.4;
            text-align: left;
            margin: 0;
            color: #000000;
        }

        /* styles for the numbered list below the title */
        .item-list {
            margin: 6px 0 0 0;
            padding: 0;
            list-style-position: outside;
            width: 100%;
            text-align: right; /* make list flush to the right edge of the right-panel */
            direction: rtl; /* put markers on the right */
        }
        .item-list li {
            color: rgba(168,168,168,0.95); /* pale gray, slightly more opaque */
            font-size: 12px;
            line-height: 1.2;
            cursor: pointer;
            margin: 4px 0;
            direction: ltr; /* keep text readable */
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 4px;
        }
        .item-list li:focus { outline: none; }

        /* empty circular marker left of the number */
        .item-list li::before {
            content: '';
            width: 7px;
            height: 7px;
            border-radius: 50%;
            border: 1px solid rgba(168,168,168,0.95);
            background: transparent;
            box-sizing: border-box;
            flex: 0 0 auto;
        }
        /* filled when active */
        .item-list li.active::before {
            background: #FF46A2;
            border-color: #FF46A2;
        }
        /* make the number/text black when the item is active */
        .item-list li.active {
            color: #000;
            text-transform: uppercase;
        }

        body {
            margin: 0;
            overflow: hidden; /* we'll scroll inside .scroll-wrapper */
        }

        .scroll-wrapper {
            height: 100vh;
            overflow-y: auto;
            position: relative;
        }

        /* specimen image sizing */
        .specimen-embed img{
            width: 85%;
            max-width: 600px;
            height: auto;
            max-height: 80vh;
            display: block;
            margin: 0;
            object-fit: contain;
            background: transparent;
        }

        /* hide native scrollbar inside scroll-wrapper */
        .scroll-wrapper {
            scrollbar-width: none; /* Firefox */
        }
        .scroll-wrapper::-webkit-scrollbar {
            width: 0;
            height: 0; /* WebKit */
        }

        /* custom scroll dot overlay (pink, like bullet) */
        .scroll-dot {
            position: fixed;
            right: 4px;
            width: 7px;
            height: 7px;
            border-radius: 50%;
            background-color: #FF46A2;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease-out;
            z-index: 999;
        }

        .click-dot {
            position: absolute;
            width: 7px;
            height: 7px;
            border-radius: 50%;
            background-color: #FF46A2;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.5);
            transition: opacity 0.3s ease-out, transform 0.3s ease-out;
        }
        .click-dot.visible {
            opacity: 1;
            transform: scale(1);
        }

        /* name stays a fixed color (no flashing) */

        .back-to-top {
            margin: 12px 0 1cm auto;
            padding: 4px 8px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 18px;
            display: block;
            text-align: right;
            color: #FF46A2;
        }
    </style>
</head>
<body>
    <div class="scroll-wrapper">
    <div class="container">
        <aside id="left-panel" class="left-panel" aria-live="polite"></aside>

        <div id="middle-panel" class="middle-panel" aria-live="polite"></div>

        <main class="right-panel">
            <h1>Yasmine Redouani</h1>

            <ol id="item-list" class="item-list">
                <li data-id="1" tabindex="0">specimen type</li>
                <li data-id="2" tabindex="0">apap</li>
                <li data-id="3" tabindex="0">eartea</li>
            </ol>
        </main>
    </div>
    <div class="click-dot" aria-hidden="true"></div>
    </div>

    <div class="scroll-dot" aria-hidden="true"></div>

    <script>
        const items = {
            1: `<div class="specimen-embed">
                <img src="caution.jpg" alt="caution page 0" loading="lazy">

                <img src="caution 3.jpeg" alt="caution page 3" loading="lazy">
                    <img src="caution 4.jpeg" alt="caution page 4" loading="lazy">
                    <img src="caution 5.jpeg" alt="caution page 5" loading="lazy">
                    <img src="caution 6.jpeg" alt="caution page 6" loading="lazy">
                    <img src="caution 8.jpeg" alt="caution page 8" loading="lazy">
                    <img src="caution 9.jpeg" alt="caution page 9" loading="lazy">
                    <img src="caution 10.jpeg" alt="caution page 10" loading="lazy">
                    <img src="caution 11.jpeg" alt="caution page 11" loading="lazy">
                    <img src="caution 12.jpeg" alt="caution page 12" loading="lazy">
                    <img src="caution 13.jpeg" alt="caution page 13" loading="lazy">
                    <img src="caution 14.jpeg" alt="caution page 14" loading="lazy">
                    <img src="caution 15.jpeg" alt="caution page 15" loading="lazy">
                    <img src="caution 16.jpeg" alt="caution page 16" loading="lazy">
                    <img src="caution 17.jpeg" alt="caution page 17" loading="lazy">
                    <img src="caution 18.jpeg" alt="caution page 18" loading="lazy">
                    <img src="caution 19.jpeg" alt="caution page 19" loading="lazy">
                    <img src="caution 20.jpeg" alt="caution page 20" loading="lazy">
                    <img src="caution 21.jpeg" alt="caution page 21" loading="lazy">
                    <img src="caution 22.jpeg" alt="caution page 22" loading="lazy">
                    <img src="caution 23.jpeg" alt="caution page 23" loading="lazy">
                    <img src="caution 24.jpeg" alt="caution page 24" loading="lazy">
                    <img src="caution 25.jpeg" alt="caution page 25" loading="lazy">
                    <img src="caution 26.jpeg" alt="caution page 26" loading="lazy">
                    <img src="caution 27.jpeg" alt="caution page 27" loading="lazy">
                    <img src="caution 28.jpeg" alt="caution page 28" loading="lazy">
                    <img src="caution 29.jpeg" alt="caution page 29" loading="lazy">
                    <img src="caution 30.jpeg" alt="caution page 30" loading="lazy">
                    <img src="caution 31.jpeg" alt="caution page 31" loading="lazy">
                    <img src="caution 32.jpeg" alt="caution page 32" loading="lazy">
                    <button class="back-to-top" type="button" onclick="scrollToTop()">↑</button>
                </div>`,
            2: ``,
            3: ``
        };

        const details = {
            1: `<p>CAUTION / AMOUR<br>Projet collaboratif avec Thomas Chap&nbsp;Vinette<br><br>Ce projet explore la signalisation de danger à travers une approche typographique qui met en tension deux registres opposés&nbsp;: la caution et l’amour. L’objectif est d’analyser comment les éléments graphiques associés au danger parviennent à capter l’attention, transmettre un message clair et provoquer une réaction immédiate, même dans un contexte de stress ou de menace.<br><br>Le projet prend la forme d’une série de dix livrets de spécimen typographique. Chaque livret évalue une caractéristique spécifique de la signalisation de danger, telles que la lisibilité, le contraste, la hiérarchie, la répétition ou l’impact visuel. Pour chaque caractéristique, une composition illustrative évoque une pancarte ou un dispositif de mise en garde, traduite par la typographie, la mise en page et la structure du livret.<br><br>Le contenu textuel du spécimen est volontairement romantique. Les textes proviennent d’extraits de la section «&nbsp;coup de pouce au destin&nbsp;» de Craigslist, une catégorie où des personnes tentent de retrouver une connexion manquée sans moyen direct de contacter l’autre. Ce contenu intime et vulnérable est détourné et traité comme matière typographique.</p>`,
            2: `<p>Texte de substitution pour apap.</p>`,
            3: `<p>Texte de substitution pour eartea.</p>`
        };

        const left = document.getElementById('left-panel');
        const middle = document.getElementById('middle-panel');
        const list = document.getElementById('item-list');

        function scrollToTop(){
            const wrapper = document.querySelector('.scroll-wrapper');
            if(wrapper){
                wrapper.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function show(id, li){
            left.innerHTML = items[id] || '';
            left.classList.add('visible');
            middle.innerHTML = details[id] || '';
            middle.classList.add('visible');

            // align the top of the middle panel content with the specific list item's top
            const rightPanel = document.querySelector('.right-panel');
            if(rightPanel && li){
                const liRect = li.getBoundingClientRect();
                const panelRect = rightPanel.getBoundingClientRect();
                // compute offset of the list item relative to the top of the right panel
                const offset = Math.max(0, liRect.top - panelRect.top);
                middle.style.marginTop = offset + 'px';
            } else if(rightPanel && list){
                // fallback: align to top of list
                const listRect = list.getBoundingClientRect();
                const panelRect = rightPanel.getBoundingClientRect();
                const offset = Math.max(0, listRect.top - panelRect.top);
                middle.style.marginTop = offset + 'px';
            }
        }

        function activate(li){
            // remove active from others
            list.querySelectorAll('li').forEach(x => x.classList.remove('active'));
            if(li) li.classList.add('active');
        }

        // helper to reset to base page
        function reset(){
            left.innerHTML = '<div class="city-label">Montréal</div>';
            left.classList.remove('visible');
            middle.innerHTML = '';
            middle.classList.remove('visible');
            list.querySelectorAll('li').forEach(x => x.classList.remove('active'));
        }

        // clicking a list item toggles it: activate and show content, or reset if already active
        list.addEventListener('click', (e) => {
            const li = e.target.closest('li');
            if(!li) return;
            if(li.classList.contains('active')){
                reset();
            } else {
                show(li.dataset.id, li);
                activate(li);
            }
        });

        // keyboard activation with toggle behavior
        list.addEventListener('keydown', (e) => {
            const li = e.target.closest('li');
            if(!li) return;
            if(e.key === 'Enter' || e.key === ' '){
                e.preventDefault();
                if(li.classList.contains('active')){
                    reset();
                } else {
                    show(li.dataset.id, li);
                    activate(li);
                }
            }
        });

        // clicking the title resets to base page
        const title = document.querySelector('h1');
        if(title){
            title.addEventListener('click', reset);
        }

        // initial state: main page with Montréal top-left
        reset();

        // Custom pink scroll dot: appears only while scrolling
        const scrollWrapper = document.querySelector('.scroll-wrapper');
        const scrollDot = document.querySelector('.scroll-dot');
        const clickDot = document.querySelector('.click-dot');

        if(scrollWrapper && scrollDot){
            let hideTimeout;
            const updateDot = () => {
                const scrollHeight = scrollWrapper.scrollHeight;
                const clientHeight = scrollWrapper.clientHeight;
                const maxScroll = scrollHeight - clientHeight;
                if(maxScroll <= 0){
                    scrollDot.style.opacity = 0;
                    return;
                }

                const ratio = scrollWrapper.scrollTop / maxScroll;
                const marginTop = 20;
                const marginBottom = 20;
                const trackHeight = window.innerHeight - marginTop - marginBottom - 7;
                const y = marginTop + ratio * Math.max(trackHeight, 0);
                scrollDot.style.top = y + 'px';
            };

            scrollWrapper.addEventListener('scroll', () => {
                updateDot();
                scrollDot.style.opacity = 1;
                clearTimeout(hideTimeout);
                hideTimeout = setTimeout(() => {
                    scrollDot.style.opacity = 0;
                }, 600);
            });

            // initial position if already scrolled
            updateDot();
        }

        // Pink dot on click, only on the main page (no active item)
        if(scrollWrapper && clickDot && list){
            scrollWrapper.addEventListener('click', (e) => {
                // ne pas afficher le point si on clique sur un élément de la bullet liste
                const t = e.target;
                if(t.closest('.item-list')) return;

                const rect = scrollWrapper.getBoundingClientRect();
                const x = e.clientX - rect.left + scrollWrapper.scrollLeft;
                const y = e.clientY - rect.top + scrollWrapper.scrollTop;

                clickDot.style.left = (x - 3.5) + 'px';
                clickDot.style.top = (y - 3.5) + 'px';

                clickDot.classList.add('visible');
                setTimeout(() => {
                    clickDot.classList.remove('visible');
                }, 350);
            });
        }
    </script>
</body>
</html>